---
title: "FSAR Data Standardization Workflow"
format:
  html:
    toc: true
    toc-depth: 2
---

Use this workflow when preparing salmon datasets for Fisheries Science Advisory Report (FSAR) analysis, review, and operational intake.

## Step 1 — Define scope, classification, and destination

- Confirm dataset scope (what, where, when).
- Confirm data classification and sharing constraints.
- Confirm whether this package is intended for SPSR intake, external publication, or both.
- Policy guidance: [Publishing Data Externally](../reference_info/publishing_data_externally.qmd)

## Step 2 — Map columns to canonical ontology terms

1. Open [GC DFO Salmon Ontology documentation](../reference_info/ontology/formal-documentation.qmd).
2. Map core variables (CU identifiers, year fields, key measurements).
3. Record **full** canonical IRIs for mapped terms.

## Step 3 — Build an SDEP package

Use the [SDEP specification](../reference_info/data_standards/salmon-data-exchange-package.qmd).

At minimum:

- `dataset.csv`
- `tables.csv`
- `column_dictionary.csv`
- `data/*.csv`
- `codes.csv` (when categorical code lists apply)

Starter assets:

- [Download minimal SDEP example (zip)](../reference_info/data_standards/examples/sdep-minimal-example.zip)
- [Browse template package files](https://github.com/dfo-pacific-science/data-stewardship-unit/tree/main/reference_info/data_standards/examples/sdep-minimal-example)

## Step 4 — Validate package quality

Run structural and semantic checks before submission.

Example R checks:

```r
library(metasalmon)

pkg_path <- "path/to/your/sdep-package"

validate_dictionary(file.path(pkg_path, "column_dictionary.csv"))
validate_semantics(file.path(pkg_path, "column_dictionary.csv"))
```

## Step 5 — Prepare SPSR upload files (FSAR priority path)

For FSAR-oriented contributions, SPSR is a major operational intake target.

- Confirm column names and metadata are consistent with your selected SPSR intake profile.
- Ensure provenance notes are explicit for transformed/derived values.
- Keep the package and upload files versioned together.

Useful SPSR references:

- Repo: <https://github.com/dfo-pacific-science/salmon-population-summary-repository>
- App docs: <https://spsr.dfo-mpo.gc.ca/documentation/>
- Upload wizard: <https://spsr.dfo-mpo.gc.ca/wizard/1/>
- Templates endpoint: <https://spsr.dfo-mpo.gc.ca/download_sdp_templates>

## Step 6 — Upload and review in SPSR

- Upload via SPSR wizard.
- Resolve validation feedback.
- Re-upload if needed until intake checks are clean.
- Record upload metadata/version in your project notes.

## Step 7 — Publish externally (if in scope and approved)

- Follow policy + approvals for external release.
- Include citation/version metadata and release notes.

## FSAR readiness checklist

- [ ] Scope and classification confirmed
- [ ] Vocabulary mappings documented with full IRIs
- [ ] SDEP files completed and validated
- [ ] SPSR upload completed (or intake exceptions documented)
- [ ] External publication requirements completed (if applicable)
