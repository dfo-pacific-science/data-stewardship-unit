{
  "hash": "3d7e61c47e63d6f6c2207883b5725bf2",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Genetics and GSI\"\nformat:\n  html:\n    toc: true\n---\n\n**Controlled Vocabularies and Thesauri from the DFO Salmon Ontology** related to genetics and genetic stock identification (GSI), including building blocks used across laboratory and reporting pipelines.\n\nFor complete ontology documentation including formal class hierarchies and property definitions, see the [formal documentation page](formal-documentation.qmd).\n\n::: {#506c65d5 .cell execution_count=1}\n``` {.python .cell-code}\nimport importlib.util\nimport os\nfrom pathlib import Path\nfrom IPython.display import display\n\n# Get project root directory (where _quarto.yml is located)\nproject_root = Path(os.environ.get(\"QUARTO_PROJECT_DIR\", os.getcwd()))\nif not (project_root / \"_quarto.yml\").exists():\n    # Fallback: walk up from current directory to find _quarto.yml\n    current = Path.cwd()\n    while current != current.parent:\n        if (current / \"_quarto.yml\").exists():\n            project_root = current\n            break\n        current = current.parent\n\nhelpers_path = project_root / \"reference_info/ontology/_partials/helpers.py\"\nspec = importlib.util.spec_from_file_location(\"ontology_helpers\", helpers_path)\nhelpers = importlib.util.module_from_spec(spec)\nspec.loader.exec_module(helpers)  # type: ignore[attr-defined]\n\ncsv_path = project_root / \"data/ontology/release/artifacts/term-tables/genetics-terms.csv\"\ndf, meta = helpers.load_dataset(csv_path)\n\nif df is None:\n    display(helpers.warning_callout(\"Term table not found. Run the ontology extraction workflow to generate term tables.\"))\nelse:\n    provenance = helpers.provenance_callout(meta)\n    if provenance is not None:\n        display(provenance)\n    display(helpers.render_table(df))\n```\n\n::: {.cell-output .cell-output-display .cell-output-markdown}\n::: {.callout-warning}\nTerm table not found. Run the ontology extraction workflow to generate term tables.\n:::\n:::\n:::\n\n\n<script>\n(function () {\n  function handleCopy(event) {\n    const button = event.target.closest('button.copy-uri');\n    if (!button) {\n      return;\n    }\n    event.preventDefault();\n    const uri = button.getAttribute('data-uri');\n    if (!uri) {\n      return;\n    }\n    navigator.clipboard.writeText(uri).then(() => {\n      const original = button.textContent;\n      button.textContent = 'Copied';\n      button.classList.add('copied');\n      setTimeout(() => {\n        button.textContent = original;\n        button.classList.remove('copied');\n      }, 1500);\n    }).catch(() => {\n      button.textContent = 'Copy failed';\n      button.classList.add('error');\n      setTimeout(() => {\n        button.textContent = 'Copy';\n        button.classList.remove('error');\n      }, 2000);\n    });\n  }\n\n  document.addEventListener('click', handleCopy);\n})();\n</script>\n\n<style>\n.ontology-term-table {\n  width: 100%;\n  border-collapse: collapse;\n}\n.ontology-term-table th,\n.ontology-term-table td {\n  border-bottom: 1px solid var(--quarto-border-color, #ddd);\n  padding: 0.6rem;\n  vertical-align: top;\n}\n.ontology-term-table tbody tr:hover {\n  background-color: rgba(0, 0, 0, 0.03);\n}\n.ontology-term-table .uri-cell {\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n  flex-wrap: wrap;\n}\nbutton.copy-uri {\n  font-size: 0.85rem;\n  padding: 0.2rem 0.6rem;\n  border: 1px solid var(--quarto-border-color, #bbb);\n  border-radius: 4px;\n  background-color: var(--quarto-body-bg, #fff);\n  cursor: pointer;\n}\nbutton.copy-uri.copied {\n  color: #2c7a7b;\n  border-color: #2c7a7b;\n}\nbutton.copy-uri.error {\n  color: #c53030;\n  border-color: #c53030;\n}\n.ontology-term-table .coming-soon {\n  color: var(--quarto-muted-color, #666);\n  font-style: italic;\n}\n</style>\n\n",
    "supporting": [
      "genetics-terms_files"
    ],
    "filters": [],
    "includes": {}
  }
}