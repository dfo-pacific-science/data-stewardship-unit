---
title: "Integrate Data"
topics:
  - Workflows
  - Standards & Vocabulary
format:
  html:
    toc: true
    toc-depth: 2
---

## Cookbook Guide

<div class="cookbook-section">

### Step 1: Inventory Sources

<div class="cookbook-step">

Document each source dataset:

- owner/source system
- temporal scope
- geographic scope
- key identifiers
- known caveats

**Example inventory:**

| Dataset | Source | Key Columns | Temporal Scope | Geographic Scope |
|---|---|---|---|---|
| Escapement series | Survey program | `CU_code`, `BY`, `Esc` | 2010–2024 | Fraser CUs |
| Catch series | FOS | `CU`, `Year`, `Catch` | 2010–2024 | Multiple areas |
| Status outputs | SPSR | `CU`, `BY`, `STATUS` | 2010–2024 | All CUs |

</div>

### Step 2: Build a Common Semantic Map

<div class="cookbook-step">

Create a crosswalk from source fields to target standard fields and canonical IRIs.

**Example (illustrative — verify exact term IRIs in WIDOCO):**

| Source Dataset | Source Column | Standard Label | Standard IRI | Target Column |
|---|---|---|---|---|
| Escapement | `CU_code` | Conservation Unit | `https://w3id.org/gcdfo/salmon#ConservationUnit` | `CU` |
| Escapement | `BY` | Brood Year | `https://w3id.org/gcdfo/salmon#BroodYear` | `BroodYear` |
| Catch | `Year` | Return Year | `https://w3id.org/gcdfo/salmon#ReturnYear` | `ReturnYear` |

Use full IRIs only.

</div>

### Step 3: Harmonize Controlled Values

<div class="cookbook-step">

Normalize categorical values before joining.

```csv
source_dataset,source_column,source_value,standard_value,concept_iri
Escapement,run_type,Spring,Spring Run,https://w3id.org/gcdfo/salmon#SpringRun
Escapement,run_type,S,Spring Run,https://w3id.org/gcdfo/salmon#SpringRun
Catch,run_type,SPRING,Spring Run,https://w3id.org/gcdfo/salmon#SpringRun
```

</div>

### Step 4: Standardize Structures

<div class="cookbook-step">

- align column names
- align data types
- align temporal semantics (brood year vs return year)
- document all transformation assumptions

</div>

### Step 5: Integrate with Explicit Join Logic

<div class="cookbook-step">

- define join keys and expected cardinality
- run joins in script
- check for dropped/unmatched records
- compute derived fields only after validating joins

</div>

### Step 6: Validate the Integrated Output

<div class="cookbook-step">

Validation checks:

- source totals vs integrated totals
- row counts by key strata (CU/year/etc.)
- derived metric sanity checks (ranges, null rate)
- unresolved mapping exceptions list

</div>

### Step 7: Package for Reuse

<div class="cookbook-step">

Package the integrated output with:

- updated `column_dictionary.csv`
- code mappings (`codes.csv`)
- integration README (logic + assumptions)

Then continue to [Salmon data package + SPSR intake path](ontology-data-package-gpt.qmd) if this dataset is moving into SPSR/FSAR workflows.

</div>

</div>

## Next Steps

- [GC DFO Salmon Ontology documentation](../ontology/formal-documentation.qmd)
- [Salmon data package specification](salmon-data-exchange-package.qmd)
- [FSAR workflow](../../how_to_guides/fsar-data-standardization-workflow.qmd)
